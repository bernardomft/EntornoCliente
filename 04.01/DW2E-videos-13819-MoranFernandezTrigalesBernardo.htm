<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>videos</title>
    <style>
        .tarjeta {
            border: 1px solid #000000;
            padding: 1em;
        }

        .imagen {
            background-size: contain;
            background-repeat: no-repeat;
            width: 180px;
            height: 180px;
        }

        .flex-contenedor{
            display: flex;
        }
    </style>
</head>

<body>
    <script>
        //Array con id de videos de Youtube
        var arrayId = ['gOpWZ95Nd8k', '4q4o-BIHJZA', 'm2Japz0oJek', '4MeHm43BQQo', 'fFPfHIOlKPM', 'ryEcAT0IfTI',
            'wWWlmfnfLAU', 'ywwfV2VqBNg', 'z5VyCp_1YnA', 'IK01V1oED9w'
        ];

        var arrayObj = [];
        //Clase pelicula
        class Pelicula {
            constructor(vid) {
                this._vid = vid;
                this._titulo = randomChar(5);
                this._duracion = crearDuracion();
                this._fechaSubida = crearFecha();
                this._visitas = Math.floor(Math.random() * (1000000 - 100) + 1000);;
                this._imagen = 'https://i.ytimg.com/vi/' + vid + '/mqdefault.jpg';
            }

            //seters
            set vid(v) {
                this._vid = v;
            }

            set titulo(titulo) {
                this._titulo = titulo;
            }

            set duracion(duracion) {
                this._duracion = duracion;
            }

            set fechaSubida(fechaSubida) {
                this._fechaSubida = fechaSubida;
            }

            set visitas(visitas) {
                this._visitas = visitas;
            }

            set imagen(imagen) {
                this._imagen = imagen;
            }

            //geters

            get vid() {
                return this._vid;
            }

            get titulo() {
                return this._titulo;
            }

            get duracion() {
                return this._duracion;
            }

            get fechaSubida() {
                return this._fechaSubida;
            }

            get visitas() {
                return this._visitas;
            }

            get imagen() {
                return this._imagen;
            }

            generarHTML() {
                //div.tarjeta (div principal)
                var ele = document.createElement('div');
                ele.id = 'pelicula_' + this.div;
                ele.className = 'tarjeta';
                //div con imagen
                var imagen = document.createElement('div');
                ele.className = 'imagen';
                ele.style.backgroundImage = 'url(' + this.imagen + ')';
                ele.innerHTML = '<p>' + this.titulo + '</p>' + '<p>' + this.vid + '</p>' + '<p>' + this.fechaSubida + '</p>'
                                + '<p>' + this.visitas + '</p>';
                ele.appendChild(imagen);
                document.getElementById('flex').appendChild(ele);
            }

        }

        function iniciar(){
            for(var i = 0; i < arrayId.length; i++){
                arrayObj.push(new Pelicula(arrayId[i]));
                arrayObj[i].generarHTML();
            }
               
            console.log(arrayObj);
        }


        function crearDuracion() {
            var n1 = Math.floor(Math.random() * (3));
            var n2 = Math.floor(Math.random() * (60 - 1)) + 1;
            var n3 = Math.floor(Math.random() * (60 - 1)) + 1;
            return n1 + '/' + n2 + '/' + n3;
        }

        function crearFecha() {
            var n1 = Math.floor(Math.random() * (30 - 1) + 1);
            var n2 = Math.floor(Math.random() * (12 - 1)) + 1;
            var n3 = Math.floor(Math.random() * (2020 - 1975)) + 1975;
            return n1 + '/' + n2 + '/' + n3;
        }

        function randomChar(length) {
            var result = '';
            var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            var charactersLength = characters.length;
            for (var i = 0; i < length; i++) {
                result += characters.charAt(Math.floor(Math.random() * charactersLength));
            }
            return result;
        }

        window.onload = iniciar;
    </script>
</body>
<div class="flex-contenedor" id="flex">

</div>
</html>